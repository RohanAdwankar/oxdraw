graph TD
    Start((开始)) --> A[接收多模态输入];
    A --> B(6.1 多模态输入理解引擎);
    B --> C(6.1.1 跨模态融合与冲突检测);
    C --> D[生成统一需求表示];
    D --> E(6.2 需求完整性检查引擎);
    E --> F{发现缺失或冲突?};
    F -- Yes --> G[生成澄清问题列表];
    G --> H(等待用户澄清);
    F -- No --> I;
    H --> I(6.3 规范文档生成引擎);
    I --> J[生成完整规范文档];
    J --> K(6.4 规范一致性验证);
    K --> L{等待用户反馈};
    L -- 收到反馈 --> M(6.5 交互式规范细化);
    M --> J;
    L -- 无反馈 --> End((结束));
